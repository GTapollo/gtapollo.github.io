<!DOCTYPE html>
<html>
  <head>
    <meta name="description" content="欢迎访问 Harttle 的个人主页，这里记录了 harttle 关于计算机技术的文章、个人信息与相册，以及有用的资源分享和下载。">
    <meta name="keywords" content="Linux Web 计算机 开发 编程">
    <meta name="author" content="harttle">      
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Makefile 手册 - Harttle Land</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- style -->
    <!-- Bootstrap -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
    
    <!-- font-awesome -->
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
      
    <!-- Custom styles  -->
    <link href="/assets/css/sticky-footer-navbar.css" rel="stylesheet">
    <link href="/assets/css/main.css" rel="stylesheet">

    <!-- Icon -->
    <link rel="shortcut icon" href="/assets/img/favicon.png"> 

    
    
<style>
.headerbar{
  background: rgba(255, 255, 255, 0.75);
  box-shadow: inset 0 -1px 0 white, 0 1px 5px rgba(0,0,0,.3);
}
.headerbar .page-header{
  border-bottom: 0;
  margin-bottom: 0px;
  margin-top: 0px;
}
#page-content{
  margin-top: 20px;
  margin-bottom: 15px;
}
</style>


<link rel="stylesheet" href="/assets/css/markdown.css">
<link rel="stylesheet" href="/assets/css/syntax.css">
<style>
  /* By default it's not affixed in mobile views, so undo that */
  .sidebar.affix {
    position: static;
  }
  
  /* First level of nav */
  .sidenav {
    margin-top: 20px;
    margin-bottom: 20px; 
    padding-top:    10px;
    padding-bottom: 10px;
    text-shadow: 0 1px 0 #fff;
    background-color: #f5f5f5;
    border-radius: 5px;
  }
  
  /* All levels of nav */
  .sidebar .nav > li > a {
    display: block;
    /*color: #6c6c6c;*/
    padding: 5px 20px;
    color: #428bca;
    text-decoration: none;
  }
  .sidebar .nav > li > a:hover,
  .sidebar .nav > li > a:focus {
    text-decoration: none;
    background-color: #e5e5e5;
    border-right: 1px solid #d5d5d5;
  }
  
  .sidebar .nav > .active > a,
  .sidebar .nav > .active:hover > a,
  .sidebar .nav > .active:focus > a {
    font-weight: bold;
    /*color: #555;
    background-color: transparent;*/
    color: white;
    background: #428bca;
    text-shadow: 0 1px 0 rgba(0,0,0,.15);
    -webkit-box-shadow: inset 1px 0 0 rgba(0,0,0,.1), inset -1px 0 0 rgba(0,0,0,.1);
       -moz-box-shadow: inset 1px 0 0 rgba(0,0,0,.1), inset -1px 0 0 rgba(0,0,0,.1);
            box-shadow: inset 1px 0 0 rgba(0,0,0,.1), inset -1px 0 0 rgba(0,0,0,.1);
    border-right: 1px solid #009;
  }
  
  /* Nav: second level (shown on .active) */
  .sidebar .nav .nav {
    display: none; /* Hide by default, but at >768px, show it */
    margin-bottom: 8px;
  }
  .sidebar .nav .nav > li > a {
    padding-top:    3px;
    padding-bottom: 3px;
    padding-left: 30px;
    font-size: 90%;
  }
  .sidebar .nav .nav .nav > li > a {
    padding-left: 40px;
  }
  .sidebar .nav .nav .nav .nav > li > a {
    padding-left: 50px;
  }
  .sidebar .nav .nav .nav .nav .nav > li > a {
    padding-left: 60px;
  }
  .sidebar .nav .nav .nav .nav .nav .nav> li > a {
    padding-left: 70px;
  }  
  
  /* Show and affix the side nav when space allows it */
  @media (min-width: 992px) {
    .sidebar .nav > .active > ul {
      display: block;
    }
    /* Widen the fixed sidebar */
    .sidebar.affix,
    .sidebar.affix-top,
    .sidebar.affix-bottom {
      width: 213px;
    }
    .sidebar.affix {
      position: fixed; /* Undo the static from mobile first approach */
      top: 90px;
    }
    .sidebar.affix-bottom {
      position: absolute; /* Undo the static from mobile first approach */
    }
    .sidebar.affix-bottom .sidenav,
    .sidebar.affix .sidenav {
      margin-top: 0;
      margin-bottom: 0;
    }
  }
  @media (min-width: 1200px) {
    /* Widen the fixed sidebar again */
    .sidebar.affix-bottom,
    .sidebar.affix-top,
    .sidebar.affix {
      width: 263px;
    }
  } 
    
  .MathJax *{
    color: black!important;  
  }
</style>


    <!-- style -->
  </head>
  
  <body>
  
  <!-- content -->  
    <!-- Wrap all page content here -->
    <div id="wrap">

      <!-- Fixed navbar -->
      <div class="navbar navbar-default navbar-inverse navbar-fixed-top global-nav">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Harttle Land</a>
          </div>
          <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
              <li id="blog"><a href="/category/blog.html">博客</a></li>
              <li id="album"><a href="/category/album.html">相册</a></li>
              <li id="about"><a href="/about.html">关于</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">链接 <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="//harttle.duapp.com" target="_blank">God Notes</a></li>
                  <li><a href="//www.pku.edu.cn/" target="_blank">北京大学</a></li>
                </ul>
              </li>
            </ul>
	    <ul class="nav navbar-nav pull-right">	 
	      <li>
		<a href="//github.com/harttle/harttle.github.io" target="_blank">
		  <i class="fa fa-github fa-lg"></i> GitHub
		</a>
	      </li>
	      <li>
		<a href="/feed.xml" target="_blank">
		  <i class="fa fa-rss-square fa-lg"></i> RSS
		</a>
	      </li>
	    </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>

      <!-- Begin page content -->
      <div id="main-content">
	
	
<div class="headerbar">
  <div class="page-header container">
    <h1>
      Makefile 手册 <small></small>
    </h1>
    <div>
      
      <span class="label label-info pull-left" style="margin-right: 10px;"><span class="glyphicon glyphicon-folder-open"></span> linux</span>
      
      
      <span class="label label-success pull-left hidden-xs" style="margin-right: 10px;"><span class="glyphicon glyphicon-tag"></span> gcc</span>
      
      <span class="label label-success pull-left hidden-xs" style="margin-right: 10px;"><span class="glyphicon glyphicon-tag"></span> 编译</span>
      
      <a class="pull-right label label-warning" href="/category/blog.html" style="margin-left: 10px;">
          返回列表 <span class="glyphicon glyphicon-hand-left"></span>
      </a>
      <span class="pull-right label label-default hidden-xs">
          <span class="glyphicon glyphicon-time"></span> 2014年01月01日
      </span>
    </div>
  </div>
</div>

<div class="container">
 
  <div id="page-content">
    
    
<div class="row post-display">
    <div class="col-md-3 left" >
      <div class="sidebar"></div>
    </div>
    <div class="col-md-9 right md">
      <p>在软件开发中，make是一个工具程序（Utility software），经由读取叫做“makefile”的文件，自动化建构软件。</p>
<p>它是一种转化文件形式的工具，转换的目标称为“target”；与此同时，它也检查文件的依赖关系，如果需要的话，它会调用一些外部软件来完成任务。它的依赖关系检查系统非常简单，主要根据依赖文件的修改时间进行判断。大多数情况下，它被用来编译源代码，生成结果代码，然后把结果代码连接起来生成可执行文件或者库文件。它使用叫做“makefile”的文件来确定一个target文件的依赖关系，然后把生成这个target的相关命令传给shell去执行。</p>
<p><a href="http://scc.qibebt.cas.cn/docs/linux/base/%B8%FA%CE%D2%D2%BB%C6%F0%D0%B4Makefile-%B3%C2%F0%A9.pdf">中文Tutorial</a></p>
<h1>基本知识</h1>
<h2>编译</h2>
<p>对于C语言，产生可执行程序包括这样的步骤：</p>
<ol>
<li>预处理源文件（<code>.c</code>）<ul>
<li>替换预处理命令（如 <code>#define</code>）</li>
<li>展开头文件（<code>.h</code>，包括静态链接库的头文件）到引用的源文件</li>
</ul>
</li>
<li>依次编译处理过的源文件，然后进行汇编，生成对应的目标文件（<code>.o</code>）</li>
<li>链接（静态链接）目标文件和静态链接库（静态链接库的源文件生成的目标文件，<code>.a</code>），生成可执行的二进制文件。</li>
</ol>
<blockquote>
<p><code>gcc</code> 不会自动链接到静态链接库（<code>libstdio.so</code>除外），需要以参数的形式指定。<code>g++</code> 会自动解析并进行链接。动态链接库（<code>.so</code>）则是运行时由操作系统解析的。</p>
</blockquote>
<h2>示例</h2>
<pre><code>target: require1 require2
    shell command
</code></pre><p><code>make</code> 命令会寻找当前目录下的 makefile，寻找其中的第一条规则，然后执行 <code>shell command</code> 来生成 <code>target</code>。如果发现 <code>requireN</code> 同时也依赖于其他项，则会自动调用其对应的 <code>shell command</code> 并生成它。另外，在整个过程中，<code>make</code> 会比较 <code>target</code> 与 <code>requireN</code> 的时间戳，以判断是否需要重新生成。</p>
<h2>变量</h2>
<p>变量的定义与引用：</p>
<pre><code>
<span class="comment"># 递归扩展变量，在调用时展开</span>
<span class="constant">objects1</span> = a.o b.o

<span class="comment"># 简单扩展变量，在赋值时展开</span>
<span class="constant">objects2</span> = <span class="variable">$(objects)</span> c.o

main.o: $(objects)
    gcc -o main.o $(objects2)
</code></pre><ul>
<li><p>如果要在makefile中真实的 <code>$</code>，需要用 <code>$$</code> 来表示。</p>
</li>
<li><p>注意变量赋值时不能使用通配符。但是在规则中，通配符是可以使用的：</p>
<pre><code>  print: *.c
      some command
</code></pre></li>
</ul>
<h2>自动化变量</h2>
<ul>
<li><code>$@</code><br>  表示规则中的目标文件集。在模式规则中，如果有多个目标，那么，<code>$@</code>就是匹配于目标中模式定义的集合。 </li>
<li><code>$%</code><br>  仅当目标是函数库文件中，表示规则中的目标成员名。例如，如果一个目标是<code>foo.a (bar.o)</code>，那么，<code>$%</code>就是<code>bar.o</code>，<code>$@</code>就是<code>foo.a</code>。如果目标不是函数库文件（Unix 下是<code>.a</code>，Windows 下是<code>.lib</code>），那么，其值为空。 </li>
<li><code>$&lt;</code><br>  依赖目标中的第一个目标名字。如果依赖目标是以模式（即<code>%</code>）定义的，那么<code>$&lt;</code>将 是符合模式的一系列的文件集。注意，其是一个一个取出来的。 </li>
<li><code>$?</code><br>  所有比目标新的依赖目标的集合。以空格分隔。 </li>
<li><code>$^</code><br>  所有的依赖目标的集合。以空格分隔。如果在依赖目标中有多个重复的，那个这个变量 会去除重复的依赖目标，只保留一份。 </li>
<li><code>$+</code><br>  这个变量很像&quot;$^&quot;，也是所有依赖目标的集合。只是它不去除重复的依赖目标。 </li>
<li><code>$*</code><br>  这个变量表示目标模式中<code>%</code>及其之前的部分。如果目标是<code>dir/a.foo.b</code>，并且目标的模式是<code>a.%.b</code>，那么，<code>$*</code>的值就是<code>dir/a.foo</code>。</li>
</ul>
<h2>隐含规则</h2>
<p><code>make</code> 会通过隐含规则自动推导依赖关系，可以帮助我们简化 <code>makefile</code>。例如：</p>
<pre><code>foo : foo.o bar.o 
    cc –o foo foo.o bar.o $(CFLAGS) $(LDFLAGS)
</code></pre><p>并没有指明如何生成 <code>.o</code> 文件，这时 <code>make</code> 会生成：</p>
<pre><code>foo.o : foo.c 
    cc –c foo.c $(CFLAGS) 

bar.o : bar.c 
    cc –c bar.c $(CFLAGS)
</code></pre><p>隐含规则中的编译器与上一级依赖中的相同，因此产生 <code>foo</code> 的规则中，<code>cc</code> 命令是不可省略的。</p>
<h2>使用函数</h2>
<p>可以使用 <code>make</code> 内建函数来完成某些功能。语法如下：</p>
<pre><code>$(&lt;function&gt; &lt;arguments&gt;)
</code></pre><p>如：</p>
<pre><code><span class="constant">sources</span> := <span class="variable">$(shell ls *.c)</span>
</code></pre><p><code>make</code> 中的函数包括：字符串处理，文件名操作，流程控制，call函数，origin函数，shell函数。</p>
<h1>进阶技巧</h1>
<h2>伪目标</h2>
<p>伪目标不是一个文件，而只是一个标签，使得依赖关系的书写更加灵活。<code>.PHONY</code> 用来声明伪目标（但不是必须的），这时可以避免 make 去检查同名的文件。例如：</p>
<pre><code><span class="phony"><span class="keyword">.PHONY</span>: clean </span>

<span class="title">clean: </span>
    rm *.o temp
</code></pre><h2>多目标</h2>
<pre><code>bigoutput littleoutput : text.g 
    generate text.g -$(subst output,,$@) &gt; $@

<span class="comment"># 等价于：</span>

bigoutput : text.g 
    generate text.g -big &gt; bigoutput 
littleoutput : text.g 
    generate text.g -little &gt; littleoutput
</code></pre><h2>静态模式</h2>
<p>静态模式可以更加容易地定义多目标的规则，语法如下：</p>
<pre><code>&lt;targets ...&gt;: &lt;target-pattern&gt;: &lt;prereq-patterns ...&gt; 
    &lt;commands&gt;
</code></pre><p>例如，下面的makefile将对所有的 <code>.o</code> 文件分别生成一条依赖关系。</p>
<pre><code><span class="constant">objects</span> = foo.o bar.o 

all: $(objects) 
$(objects): %.o: %.c 
    $(CC) -c $(CFLAGS) $&lt; -o $@
</code></pre><h2>总控 makefile</h2>
<p>在makefile中，可以执行子文件夹的makefile：</p>
<pre><code><span class="title">subsystem: </span>
    $(MAKE) -C subdir
</code></pre><p>这里的<code>$(MAKE)</code>是为了方便维护make的参数。总控makefile的变量可以传递到下级：</p>
<pre><code>export variable = value

<span class="comment"># or use the following</span>
<span class="constant">variable</span> = value 
export variable
</code></pre><h2>自动生成依赖</h2>
<p>对于每个 <code>.c</code> 文件，我们一般会需要如下的依赖关系：</p>
<pre><code>main.o : main.c defs.h
</code></pre><p>然而，有时候存在大量的 <code>.c</code> 文件，我们需要得到每个 <code>.c</code> 对应的 <code>.h</code>。借助于 <code>gcc</code>，可以自动探测这些依赖：</p>
<pre><code><span class="constant">sources</span> = main.c stack.c maze.c

include $(sources:.c=.d)

%.d: %.c
    set -e; rm -f $@; \
    $(CC) -MM $(CPPFLAGS) $&lt; &gt; $@.$$$$; \
    sed 's,\($*\)\.o[ :]*,\1.o $@ : ,g' &lt; $@.$$$$ &gt; $@; \
    rm -f $@.$$$$
</code></pre><p>如上的makefile定义了 <code>.c</code> 的列表变量，然后载入对应的 <code>.d</code> 文件，这时会有文件不存在的警告产生，此时 make 会采用下面的模式生成 <code>.d</code>：</p>
<ul>
<li>设置shell，发生错误立即退出</li>
<li>得到依赖关系（如 <code>main.o main.c defs.h</code>），存为 <code>.d.XXXX</code>（<code>XXXX</code>为当前进程号）</li>
<li><code>sed</code> 替换（例如将 <code>main.o : main.c defs.h</code> 转成 <code>main.o main.d : main.c defs.h</code>），使得 <code>.d</code> 也能得到更新。</li>
<li>删除临时文件</li>
</ul>


    
      <style>
  /* JiaThis & Uyan bootstrap fix */
	.jiathis_style *, .jiathis_style,
  .jiathis_style_24x24 *, .jiathis_style_24x24{
      -webkit-box-sizing: content-box!important;
      -moz-box-sizing: content-box!important;
      box-sizing: content-box!important;
  }
  .jiathis_style_24x24{
          margin-top: 20px;
  }
</style>


<!-- JiaThis Button BEGIN -->
<div class="jiathis_style_24x24 pull-right">
	<a class="jiathis_button_fb"></a>
	<a class="jiathis_button_linkedin"></a>
	<a class="jiathis_button_googleplus"></a>
	<!--a class="jiathis_button_tsina"></a-->
	<a class="jiathis_button_weixin"></a>
	<!--a href="http://www.jiathis.com/share?uid=1851884" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a-->
	<!--a class="jiathis_counter_style"></a-->
</div>
<script type="text/javascript">
var jiathis_config = {data_track_clickback:'true'};
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code_mini/jia.js?uid=1372495112151668" charset="utf-8"></script>
<!-- JiaThis Button END -->


<div class="clearfix"></div>
<hr/>


<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'harttleland'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </div>
</div>


  </div>

</div>

      </div>
      
    </div>

    <div id="footer">
      <div class="container">
	<div class="credit nowrap">
	  <p class="text-muted" title="Copyright © 2013 Harttle. Hosted by GitHub and powered by Jekyll.">
	    Copyright © 2013 
	    <a href="//harttle.github.io">Harttle</a>. Hosted by
	    <a href="//github.com/" target="_blank">GitHub</a>
	    and powered by
	    <a href="//jekyllrb.com/">Jekyll</a>.
	    
	  </p>
	  <div class="pull-right hidden-xs follow">
	    <a href="https://www.facebook.com/harttle" target="_blank">
	      <i class="fa fa-facebook-square fa-lg"></i>
	    </a>
	    <a href="http://www.linkedin.com/profile/view?id=294339963" target="_blank">
	      <i class="fa fa-linkedin-square fa-lg"></i>
	    </a>
	    <a href="https://plus.google.com/113657098095399233141?rel=author" target="_blank">
	      <i class="fa fa-google-plus-square fa-lg"></i>
	    </a>
	  </div>	  
	</div>
      </div>
    </div>
<!-- content -->

<!-- script -->
    
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="//oss.maxcdn.com/libs/html5shiv/3.6.2/html5shiv.js"></script>
      <script src="//v3.bootcss.com/docs-assets/js/respond.min.js"></script>
    <![endif]-->
    
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
    <script src="/assets/jquery/jquery.scrollUp.min.js"></script>
    <script src="/assets/jquery/jquery.lazyload.min.js" type="text/javascript"></script>
    
    <!-- Bootstrap -->
    <script src="/assets/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    
    
    


<script>
  $(function(){    
    var toc = getTOC($('.post-display .right'));
    if (toc != null) {
      $('.sidebar').append(toc);
      
      //sidebar affix, this offset is for sidebar position recognition
      setTimeout(function () {
          var $sideBar = $('.sidebar')
          $sideBar.affix({
              offset: {                
                  top: function () {                    
                      var offsetTop      = $sideBar.offset().top;
                      var sideBarMargin  = parseInt($sideBar.children(0).css('margin-top'), 10);
                      sideBarMargin     += parseInt($('#page-content').css('margin-top'), 10);
                      return (this.top = offsetTop - navHeight - sideBarMargin);
                  },
                  bottom: function(){
                    var sideBarMargin  = parseInt($sideBar.children(0).css('margin-bottom'), 10);
                    return (this.bottom = footHeight + sideBarMargin);
                  }
              }
          });
      },100);
      
      //sidebar scroll spy
      $('body').scrollspy({
        target: '.sidebar',
        offset: navHeight + 10  //make sure to spy the element when scrolled to
      }); 
    }
    else{
      $('.post-display .right').removeClass('col-md-9');
      $('.post-display').removeClass('row-fluid');
      $('.post-display .left').remove();
    }
  });
  
  //生成目录
  function getTOC($content) {    
    var $toc = $('<ul class="nav level-0" >').addClass("nav sidenav");

    var base_level = 1;
    while ($content.find('h' + base_level).length < 1 && base_level < 7) base_level += 1;
    if (base_level == 7) return null;
    
    $content.find(':header').each(function (i) {
      var $this = $(this);
      $this.attr('id', i);
      
      var level = parseInt(this.nodeName.substr(1));
      var offset = level - base_level;
      
      var li = new $('<li/>')
          .append('<a href="#' + i + '" class="animate">' + $this.text() + '</a>')
          .append($('<ul class="nav level-'+(offset+1)+'"/>'));
      
      $('<div>').append($toc).find('ul.level-'+offset+':last').append(li);
    });
    return $toc;
  }
</script>

<!-- latex render begin -->
<script type="text/x-mathjax-config">  
  MathJax.Hub.Queue(function () {
    //update scrollspy
    $('body').scrollspy('refresh');
  });
</script>
<script>
  $(function(){
    $('.md .mathjax').each(function (i, v) {
        //MathJax.Hub.Queue(["Typeset", MathJax.Hub, v]);
    })
  })
</script>
<!--script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG"></script-->
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
<!-- latex render end -->



    
    <script>
      var navHeight = 50;
      var footHeight = $('#footer').outerHeight(true);
      $(function(){
	
        //更新菜单
        $('.nav #blog').attr('class','active');
        
        //激活工具提示
        $('[data-toggle="tooltip"]').tooltip();
        
        //图片延迟加载
        $("img.lazy").lazyload({effect : "fadeIn", skip_invisible : false});	//bootstrap thumbnail img will be invisible at the begining
        
        //回到顶部按钮
        $.scrollUp({
	  scrollName: 'scrollUp',topDistance: '300',topSpeed: 300,animation: 'fade',animationInSpeed: 500,
	  animationOutSpeed: 500,scrollText: '',activeOverlay: false,
	});	
        
        //页面内链接滑动效果
        $body = (window.opera) ? (document.compatMode == "CSS1Compat" ? $('html') : $('body')) : $('html,body');
        $('a.animate').click(function(){
          var offset = navHeight;
          if ($(this).attr('offset')) {
            offset += parseInt($(this).attr('offset')); 
          }
          $body.animate({scrollTop: $($(this).attr('href')).offset().top - offset}, 500);
          return false;
        });        
      });
    </script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-45491170-1', 'harttle.github.io');
      ga('send', 'pageview');
    </script>
<!-- script -->

  </body>
</html>
